---
sr-due: 2023-01-04
sr-interval: 1
sr-ease: 230
---

#review 

# 第一章 案例
- 人去租片，不同类别的片价格不一样。
- 改变来了
	- 现在想去用HTML方式把详单打印出来。
	- 想要增加影片的分类
- 重构的步骤
	- 可靠的测试机制，让测试可以自我检验。
	- 每次小修改之后都要做测试。
>[!INFO] 
>任何一个傻瓜都可以写出计算机可以理解的代码，唯有写出人类容易理解的代码，才是优秀的程序员

- P35 谁不稳定，就让谁多做事情。这样可以尽量减少变化的地方。
```java

class Price {
	abstract double getCharge(int daysRented);
}

class ChilrenPrice extend Price {
	double getCharge(int daysRented) {
		double result = 1.5;
		if (daysRented > 3) {
			result += (daysRented - 3) * 1.5;
		}
		return result;
	}
}

```

- P57 重构就是擦掉窗户上的污垢，让你看得更远。
- P58 重构应该是你想做什么事情，重构可以让你做得更好。  - 事不过三，三则重构。
- P66 未重构的代码就像债务，有空的时候就要还一些，否则久了，利息都还不起。
- P67 先做，再重构优化，相信自己不会做出太烂的东西。-- 先做简单的，多数时候，你不需要灵活且复杂的设计。
- P69 哪怕你完全了解系统，也做一些实际的测量，不要空对空地说。
- P70 性能改进也不必要前期有太多设计，还是在后期找到热点，解决热点。 - 有点摆烂的感觉，但还是要相信自己可以做好。